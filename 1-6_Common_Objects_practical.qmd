# Common Objects - Practical {.unnumbered}

```{r setup, include=FALSE}
htmltools::tagList(rmarkdown::html_dependency_font_awesome())
```

```{r, echo = FALSE, purl = FALSE}
knitr::knit_hooks$set(purl = knitr::hook_purl)

options(purl = FALSE)

knitr::opts_chunk$set(purl = FALSE)
```

```{r, include = FALSE}
knitr::opts_hooks$set(eval = function(opt) {
  if (any(opt$exercise))
    opt$eval <- opt$include <- FALSE
  
  opt
})


static <- TRUE

options(width = 100)

```

```{r packages, include = FALSE}
library(kableExtra)
library(knitr)
```

```{r load_data, context="data", include=FALSE}
library(survival)
```

## Preface {data-progressive="FALSE"}

By the end of this practical, you will be able to:
  - Create vectors of different data types (numeric, character, logical)
  - Identify and work with different R object types (vectors, matrices, data frames, lists)
Open Rstudio to do the practicals. 


### R packages

In this practical, a number of R packages are used. The packages used (with versions that were used to generate the solutions) are:

-   `survival` (version: `r packageVersion("survival")`)

*`r R.version.string`*

### Dataset {.tabset .tabset-fade .tabset-pills}

For this practical, we will use the **heart** and **retinopathy** data sets from the `survival` package. More details about the data sets can be found in:

https://stat.ethz.ch/R-manual/R-devel/library/survival/html/heart.html

https://stat.ethz.ch/R-manual/R-devel/library/survival/html/retinopathy.html

Always check your data.

::: {.panel-tabset .nav-pills}
#### Task 1

Explore the **heart** and **retinopathy** data sets - print the first six and last six rows.

#### Hint 1

Use the functions `head(...)` and `tail(...)` to investigate the data set. Replace the dots with the name of the data set.
:::

## Common R Objects

It is important to distinguish the different object in R.

### Vectors {.tabset .tabset-fade .tabset-pills}

Let's investigate some vectors.

::: {.panel-tabset .nav-pills}
#### Task 1

View the vectors `event` and `age` from the **heart** data set.

#### *Hint 1*

Use the dollar sign to select the variables.
:::

::: {.panel-tabset .nav-pills}
#### Task 2

View the vectors `eye` and `risk` from the **retinopathy** data set.

#### *Hint 2*

Use the dollar sign to select the variables.
:::

::: {.panel-tabset .nav-pills}
#### Task 3

Create a numerical vector that consists of the values: 34, 24, 19, 23, 16. Give the name `numbers` to this new vector.

#### *Hint 3*

Use the c(...) function. Replace the dots with the numbers.
:::

::: {.panel-tabset .nav-pills}
#### Task 4

Create a numerical vector that takes the integer values from 1 until 200. Give the name `numbers_2` to this new vector.

#### *Hint 4*

Use the `:` operator. For example, `1:10` creates a vector from 1 to 10.
:::

::: {.panel-tabset .nav-pills}
#### Task 5 \*

Create a categorical vector that consists of the values: yes, yes, no, no, no, yes. Give the name `treatment` to this new vector.

#### *Hint 5* \*

Use the c(...) function. Replace the dots with the categories.
:::

### Matrices and Data Frames {.tabset .tabset-fade .tabset-pills}

Let's investigate some matrices and data frames.

::: {.panel-tabset .nav-pills}
#### Task 1

Create a matrix using the vectors `id` and `age` from the **heart** data set. This matrix should have 2 columns where each column represents each variable. An easy way to do this is to first create a long vector combining the data of both variables and then using the `matrix` function. Another option would be to use the `cbind()` function. 

#### Hint 1

Use the function matrix(...).
:::

::: {.panel-tabset .nav-pills}
#### Task 2

Create a data frame using the vectors `id`, `type` and `trt` from the **retinopathy** data set. This data frame should have 3 columns, where each column represents each variable.

#### Hint 2

Use the function data.frame(...).
:::

### Lists {.tabset .tabset-fade .tabset-pills}

Let's investigate some lists.

::: {.panel-tabset .nav-pills}
#### Task 1

Create a list using the vectors `stop` from the **heart** data set and `id`, `risk` from the **retinopathy** data set. Give the names `stop_heart`, `id_reti` and `risk_reti`.

#### Hint 1

Use the function list(...).
:::

::: {.panel-tabset .nav-pills}
#### Task 2 ðŸŽ“

Create a list using the vectors `numbers`, `numbers_2` and `treatment`. These variables can be taken from the exercise called `Vectors`. Give the names: `numbers`, `many_numbers` and `treatment`.

#### Hint 2 ðŸŽ“

Use the function list(...).
:::

::: callout-advanced

### Arrays ðŸŽ“ {.tabset .tabset-fade .tabset-pills}

An array is a multi-dimensional data structure, perfect for storing data with more than two dimensions (e.g., rows, columns, and "layers"). We will set up a data structure to store grades for 3 students, across 2 different subjects, over 2 academic semesters. An `array` the perfect tool for this job because our data has three dimensions:
students, subjects and Semesters. Let's build it step-by-step.

::: {.panel-tabset .nav-pills}
#### Task 1 ðŸŽ“

First, we need a single vector containing all the data points (grades) that will fill our array.We have 3 students, 2 subjects, and 2 semesters.The total number of grades we need is $3 \times 2 \times 2 = 12$.Let's create a vector with 12 sample grades. R will fill the array "column-wise" (filling the first dimension, then the second, then the third). Create a vector named all_grades containing the following 12 grades.
```{r}
#| eval: false

all_grades <- c(8, 9, 5, 8, 9, 8, 7, 9, 8, 8, 9, 8)
```

Next, we need to tell R the shape of our array. This is done with a numeric vector passed to the `dim` argument of the `array` function. We want 3 students, 2 subjects, and 2 semesters. Setup the vector `dimensions` containing the number of students, subjects and semesters in that order.

:::

::: {.panel-tabset .nav-pills}
#### Task 2 ðŸŽ“

We can build the array using the `array()` function. Pass our variables (`all_grades` and `dimensions`) to the correct arguments (`data` and `dim`). Use `?array` if you need help. Call the resulting object `grades_array`.

#### *Hint 2* 

Use `array(data = ... , dim = ...)`
:::

::: {.panel-tabset .nav-pills}
#### Task 3 ðŸŽ“

An array is much more useful if its dimensions have names. Let's set up the names for our rows, columns and layers. We use the `dimnames` argument, which takes a list of character vectors. The order of the list must match the order of our dimensions (students, subjects, semesters). The students are called: Anna, Ben and Clara. The subjects are called: Math and History. The semesters are called: Fall and Spring. Recreate the array `grades_array` with the correct dimension names.

#### *Hint 3* 

Use the function `array(...)`. Check the help page for the `dimnames` argument. Note that this must be in a `list` format.


:::

::: {.panel-tabset .nav-pills}
#### Task 4 ðŸŽ“

Now that you have created the `array`, let's see what it looks like and confirm its structure. Use 
the `print`, `str`, `dim` and `dimnames` functions to display the contents, structure, and dimensions of the `grades_array`.


```
:::

:::


